var kt=Object.defineProperty;var At=(s,e,t)=>e in s?kt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var W=(s,e,t)=>At(s,typeof e!="symbol"?e+"":e,t);import{s as ge,a as Mt,u as It,g as Tt,b as Ot,r as Qe,o as yt,e as _t,x as Je,n as ce,k as Ze}from"../chunks/scheduler.BeaK0CkN.js";import{S as we,i as ve,e as J,c as Z,a as ee,d as O,o as B,g as G,y as le,k as d,l as w,u as k,v as A,w as M,x as I,p as $e,z as Oe,A as ye,h as Y,t as Re,b as Pe,j as Fe,m as j,q as he,n as ue,s as pe,f as me,B as Be,C as Te,D as Ke,E as Se,F as De}from"../chunks/index.5FCiXH1Q.js";import{w as Ge}from"../chunks/index.BIw2-lZ9.js";function fe(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}class Et{constructor(e,t,n,r){this.q=e,this.r=t,this.size=n,this.color=r}}class de{constructor(e,t){this.x=e,this.y=t}}const T=class T{constructor(e,t,n){W(this,"q");W(this,"r");W(this,"s");if(this.q=e,this.r=t,this.s=-e-t,Math.round(e+t+this.s)!==0)throw"q + r + s must be 0"}inRadius(e){return Math.abs(this.q)+Math.abs(this.r)+Math.abs(this.s)<=2*e}add(e){return new T(this.q+e.q,this.r+e.r,this.s+e.s)}subtract(e){return new T(this.q-e.q,this.r-e.r,this.s-e.s)}scale(e){return new T(this.q*e,this.r*e,this.s*e)}rotateLeft(){return new T(-this.s,-this.q,-this.r)}rotateRight(){return new T(-this.r,-this.s,-this.q)}static direction(e){return T.directions[e]}neighbor(e){return this.add(T.direction(e))}diagonalNeighbor(e){return this.add(T.diagonals[e])}knightNeighbor(e){return this.add(T.knightMoves[e])}len(){return(Math.abs(this.q)+Math.abs(this.r)+Math.abs(this.s))/2}distance(e){return this.subtract(e).len()}round(){var e=Math.round(this.q),t=Math.round(this.r),n=Math.round(this.s),r=Math.abs(e-this.q),i=Math.abs(t-this.r),o=Math.abs(n-this.s);return r>i&&r>o?e=-t-n:i>o?t=-e-n:n=-e-t,new T(e,t,n)}lerp(e,t){return new T(this.q*(1-t)+e.q*t,this.r*(1-t)+e.r*t,this.s*(1-t)+e.s*t)}linedraw(e){for(var t=this.distance(e),n=new T(this.q+1e-6,this.r+1e-6,this.s-2e-6),r=new T(e.q+1e-6,e.r+1e-6,e.s-2e-6),i=[],o=1/Math.max(t,1),l=0;l<=t;l++)i.push(n.lerp(r,o*l).round());return i}};W(T,"directions",[new T(1,0,-1),new T(1,-1,0),new T(0,-1,1),new T(-1,0,1),new T(-1,1,0),new T(0,1,-1)]),W(T,"diagonals",[new T(2,-1,-1),new T(1,-2,1),new T(-1,-1,2),new T(-2,1,1),new T(-1,2,-1),new T(1,1,-2)]),W(T,"knightMoves",[new T(2,1),new T(1,2),new T(-1,3),new T(-2,3),new T(-3,2),new T(-3,1),new T(-2,-1),new T(-1,-2),new T(1,-3),new T(2,-3),new T(3,-2),new T(3,-1)]);let ae=T;class et{constructor(e,t,n,r,i,o,l,p,q){this.f0=e,this.f1=t,this.f2=n,this.f3=r,this.b0=i,this.b1=o,this.b2=l,this.b3=p,this.start_angle=q}}class Ee{constructor(e,t,n){this.orientation=e,this.size=t,this.origin=n}hexToPixel(e){var t=this.orientation,n=this.size,r=this.origin,i=(t.f0*e.q+t.f1*e.r)*n.x,o=(t.f2*e.q+t.f3*e.r)*n.y;return new de(i+r.x,o+r.y)}pixelToHex(e){var t=this.orientation,n=this.size,r=this.origin,i=new de((e.x-r.x)/n.x,(e.y-r.y)/n.y),o=t.b0*i.x+t.b1*i.y,l=t.b2*i.x+t.b3*i.y;return new ae(o,l,-o-l)}hexCornerOffset(e){var t=this.orientation,n=this.size,r=2*Math.PI*(t.start_angle-e)/6;return new de(n.x*Math.cos(r),n.y*Math.sin(r))}polygonCorners(e){for(var t=[],n=this.hexToPixel(e),r=0;r<6;r++){var i=this.hexCornerOffset(r);t.push(new de(n.x+i.x,n.y+i.y))}return t}}W(Ee,"POINTY",new et(Math.sqrt(3),Math.sqrt(3)/2,0,3/2,Math.sqrt(3)/3,-1/3,0,2/3,.5)),W(Ee,"FLAT",new et(3/2,0,Math.sqrt(3)/2,Math.sqrt(3),2/3,0,-1/3,Math.sqrt(3)/3,0));var Le=(s=>(s[s.WOOD=0]="WOOD",s[s.GRAYSCALE=1]="GRAYSCALE",s))(Le||{});class tt{constructor(e,t){W(this,"colorArray",[["#d18b47","#e8ab6f","#ffce9e"],["#9a9a9a","#cdcdcd","#ffffff"]]);if(this.currentIndex=e,this.theme=t,e>2||e<0)throw"color picker must be within range [0,2]"}next(){let e=this.colorArray[this.theme][this.currentIndex];return this.currentIndex++,this.currentIndex>2&&(this.currentIndex=0),e}previous(){let e=this.colorArray[this.theme][this.currentIndex];return this.currentIndex--,this.currentIndex<0&&(this.currentIndex=2),e}}class wt{constructor(e,t,n){W(this,"currentColor");W(this,"running");W(this,"stalemate");W(this,"checkmate");this.running=e,this.currentColor=t,this.stalemate=n}}var N=(s=>(s[s.WHITE_PAWN=0]="WHITE_PAWN",s[s.BLACK_PAWN=1]="BLACK_PAWN",s[s.WHITE_ROOK=2]="WHITE_ROOK",s[s.BLACK_ROOK=3]="BLACK_ROOK",s[s.WHITE_KNIGHT=4]="WHITE_KNIGHT",s[s.BLACK_KNIGHT=5]="BLACK_KNIGHT",s[s.WHITE_BISHOP=6]="WHITE_BISHOP",s[s.BLACK_BISHOP=7]="BLACK_BISHOP",s[s.WHITE_QUEEN=8]="WHITE_QUEEN",s[s.BLACK_QUEEN=9]="BLACK_QUEEN",s[s.WHITE_KING=10]="WHITE_KING",s[s.BLACK_KING=11]="BLACK_KING",s))(N||{});const Ue=[[0,0,"svgs/Chess_plt45.svg"],[1,0,"svgs/Chess_pdt45.svg"],[0,1,"svgs/Chess_rlt45.svg"],[1,1,"svgs/Chess_rdt45.svg"],[0,3,"svgs/Chess_nlt45.svg"],[1,3,"svgs/Chess_ndt45.svg"],[0,2,"svgs/Chess_blt45.svg"],[1,2,"svgs/Chess_bdt45.svg"],[0,4,"svgs/Chess_qlt45.svg"],[1,4,"svgs/Chess_qdt45.svg"],[0,5,"svgs/Chess_klt45.svg"],[1,5,"svgs/Chess_kdt45.svg"]];class ${constructor(e,t){W(this,"enumNumber");W(this,"pieceType");W(this,"pieceImage");W(this,"hex");W(this,"color");W(this,"enPassantable");W(this,"firstMove");W(this,"boardMeta",Ne);this.enumNumber=t,this.color=Ue[t][0],this.pieceType=Ue[t][1],this.pieceImage=Ue[t][2],this.enPassantable=!1,this.firstMove=!0,this.hex=new ae(e[0],e[1]),_e.subscribe(n=>{this.boardMeta=n})}static equals(e,t){return e.q===t.q&&e.r===t.r}static cloneArray(e){var t=[];return e.forEach(n=>{t.push(new $([n.hex.q,n.hex.r],n.enumNumber))}),t}static colorToEnum(e){return e.toLowerCase()=="white"?0:1}static enumToColor(e){return e==0?"WHITE":"BLACK"}getEnemyColor(){return this.color==0?1:0}movePiece(e){let t=[];Ie.subscribe(l=>{t=l});let n=this.getLegalMoves(!1,t).find(l=>$.equals(l.to,e));if(n==null)return!1;t=t.map(l=>(l.enPassantable=!1,l)),this.pieceType==0&&this.hex.distance(n.to)>1&&(this.enPassantable=!0),t=t.filter(l=>!$.equals(l.hex,n.attacking)),this.firstMove=!1,this.hex=n.to;const r=this.getPromotion();r&&(this.pieceImage=r.pieceImage,this.pieceType=r.pieceType,this.enumNumber=r.enumNumber),Ie.set(t);let i=this.getEnemyColor(),o=new wt(!0,$.enumToColor(i),!1);return $.getAllLegalMoves(i).length==0&&(o.running=!1,$.inCheck(i)?o.checkmate=[$.enumToColor(this.color),$.enumToColor(i)]:o.stalemate=!0),Ve.set(o),!0}getLegalMoves(e,t){let n=[];if(t?n=t:Ie.subscribe(o=>{n=o}),!e){let o=vt;if(Ve.subscribe(l=>o=l),!o.running||this.color!=$.colorToEnum(o.currentColor))return[]}let r=[];return this.getMoves(n).forEach(o=>{let l=$.cloneArray(n);$.testMove(o,l)&&r.push(o)}),r}static testMove(e,t){let n=t.find(i=>$.equals(i.hex,e.from)),r=[];return t.forEach(i=>{$.equals(i.hex,e.attacking)||r.push(i)}),n.hex=e.to,!$.inCheck(n.color,r)}static inCheck(e,t){let n=[];t?n=t:Ie.subscribe(o=>{n=o});let r=[];n.forEach(o=>{o.color!=e&&(r=r.concat(o.getMoves(n)))});let i=r.map(o=>o.attacking);return!!n.find(o=>o.color==e&&o.pieceType==5&&i.find(l=>$.equals(l,o.hex)))}static getAllLegalMoves(e,t){let n=[];t?n=t:Ie.subscribe(i=>{n=i});let r=[];return n.forEach(i=>{i.color===e&&(r=r.concat(i.getLegalMoves(!0)))}),r}getMoves(e){let t=[];switch(this.pieceType){case 4:{t=t.concat(this.diagonalMoves(this.boardMeta.radius,e),this.adjacentMoves(e),this.directionalMoves(e));break}case 5:{t=t.concat(this.diagonalMoves(1,e),this.adjacentMoves(e));break}case 2:{t=t.concat(this.diagonalMoves(this.boardMeta.radius,e));break}case 1:{t=t.concat(this.directionalMoves(e));break}case 3:{t=t.concat(this.knightMoves(e));break}case 0:{t=t.concat(this.pawnMoves(e));break}}return t}static pieceOn(e,t){let n=[];return t?n=t:Ie.subscribe(r=>{n=r}),n.find(r=>$.equals(r.hex,e))}adjacentMoves(e){let t=[];for(let n=0;n<6;n++){let r=this.hex.neighbor(n),i=$.pieceOn(r,e);r.inRadius(this.boardMeta.radius)&&(i===void 0||i.color!==this.color)&&t.push(new X(this.hex,r,r))}return t}diagonalMoves(e,t){let n=[];for(let r=0;r<6;r++){let i=this.hex.diagonalNeighbor(r);for(let o=0;o<e&&i.inRadius(this.boardMeta.radius);o++){let l=$.pieceOn(i,t);if(l){l.color!==this.color&&n.push(new X(this.hex,i,i));break}n.push(new X(this.hex,i,i)),i=i.diagonalNeighbor(r)}}return n}directionalMoves(e){let t=[];for(let n=0;n<6;n++){let r=this.hex.neighbor(n);for(;r.inRadius(this.boardMeta.radius);){let i=$.pieceOn(r,e);if(i){i.color!==this.color&&t.push(new X(this.hex,r,r));break}t.push(new X(this.hex,r,r)),r=r.neighbor(n)}}return t}knightMoves(e){let t=[];for(let n=0;n<12;n++){let r=this.hex.knightNeighbor(n),i=$.pieceOn(r,e);r.inRadius(this.boardMeta.radius)&&(i===void 0||i.color!==this.color)&&t.push(new X(this.hex,r,r))}return t}pawnMoves(e){var o,l,p,q,b,_,u,v;let t=[],n=[],r=[],i=1;switch(this.firstMove==!0&&(i=2),this.color){case 0:{let m=this.hex;for(let L=0;L<i&&(m=m.neighbor(2),!$.pieceOn(m,e));L++)t.push(new X(this.hex,m,m));n.push(new X(this.hex,this.hex.neighbor(1),this.hex.neighbor(1)),new X(this.hex,this.hex.neighbor(3),this.hex.neighbor(3))),((o=$.pieceOn(this.hex.neighbor(0),e))==null?void 0:o.color)!=this.color&&((l=$.pieceOn(this.hex.neighbor(0),e))!=null&&l.enPassantable)&&r.push(new X(this.hex,this.hex.neighbor(1),this.hex.neighbor(0))),((p=$.pieceOn(this.hex.neighbor(4),e))==null?void 0:p.color)!=this.color&&((q=$.pieceOn(this.hex.neighbor(4),e))!=null&&q.enPassantable)&&r.push(new X(this.hex,this.hex.neighbor(3),this.hex.neighbor(4)));break}case 1:{let m=this.hex;for(let L=0;L<i&&(m=m.neighbor(5),!$.pieceOn(m,e));L++)t.push(new X(this.hex,m,m));n.push(new X(this.hex,this.hex.neighbor(0),this.hex.neighbor(0)),new X(this.hex,this.hex.neighbor(4),this.hex.neighbor(4))),((b=$.pieceOn(this.hex.neighbor(1),e))==null?void 0:b.color)!=this.color&&((_=$.pieceOn(this.hex.neighbor(1),e))!=null&&_.enPassantable)&&r.push(new X(this.hex,this.hex.neighbor(0),this.hex.neighbor(1))),((u=$.pieceOn(this.hex.neighbor(3),e))==null?void 0:u.color)!=this.color&&((v=$.pieceOn(this.hex.neighbor(3),e))!=null&&v.enPassantable)&&r.push(new X(this.hex,this.hex.neighbor(4),this.hex.neighbor(3)));break}}return t.filter(m=>m.to.inRadius(this.boardMeta.radius)&&$.pieceOn(m.to,e)===void 0).concat(n.filter(m=>{var L;return m.to.inRadius(this.boardMeta.radius)&&$.pieceOn(m.to,e)!=null&&((L=$.pieceOn(m.to,e))==null?void 0:L.color)!=this.color})).concat(r)}getPromotion(){if(this.pieceType==0){if(this.color==0&&(this.hex.q+this.hex.r==-5||this.hex.r==-5))return new $([this.hex.q,this.hex.r],8);if(this.color==1&&(this.hex.q+this.hex.r==5||this.hex.r==5))return new $([this.hex.q,this.hex.r],9)}}}class X{constructor(e,t,n){W(this,"from");W(this,"to");W(this,"attacking");this.from=e,this.to=t,this.attacking=n}}class Nt{constructor(e,t,n,r){W(this,"layout");W(this,"theme");W(this,"radius");W(this,"hexSize");this.layout=e,this.theme=t,this.radius=n,this.hexSize=r}}const je=new Ee(Ee.FLAT,new de(50,50),new de(0,0)),Bt=new Ee(Ee.POINTY,new de(50,50),new de(0,0));var He=(s=>(s.CURRENT="#57ff00",s.SELECTED="#fff700",s.LEGAL="#ffb400",s.ATTACK="#ff0000",s))(He||{});class Xe{constructor(e,t,n,r){W(this,"current");W(this,"selections");W(this,"legal");W(this,"attacks");this.current=e,this.selections=t,this.legal=n,this.attacks=r}}const Ne=new Nt(je,Le.GRAYSCALE,5,50),_e=Ge(Ne),vt=new wt(!0,"WHITE",!1),Ve=Ge(vt);let Lt=[new $([0,-5],N.BLACK_BISHOP),new $([0,-4],N.BLACK_BISHOP),new $([0,-3],N.BLACK_BISHOP),new $([0,5],N.WHITE_BISHOP),new $([0,4],N.WHITE_BISHOP),new $([0,3],N.WHITE_BISHOP),new $([-4,-1],N.BLACK_PAWN),new $([-3,-1],N.BLACK_PAWN),new $([-2,-1],N.BLACK_PAWN),new $([-1,-1],N.BLACK_PAWN),new $([0,-1],N.BLACK_PAWN),new $([1,-2],N.BLACK_PAWN),new $([2,-3],N.BLACK_PAWN),new $([3,-4],N.BLACK_PAWN),new $([4,-5],N.BLACK_PAWN),new $([-4,5],N.WHITE_PAWN),new $([-3,4],N.WHITE_PAWN),new $([-2,3],N.WHITE_PAWN),new $([-1,2],N.WHITE_PAWN),new $([0,1],N.WHITE_PAWN),new $([1,1],N.WHITE_PAWN),new $([2,1],N.WHITE_PAWN),new $([3,1],N.WHITE_PAWN),new $([4,1],N.WHITE_PAWN),new $([-3,-2],N.BLACK_ROOK),new $([3,-5],N.BLACK_ROOK),new $([-3,5],N.WHITE_ROOK),new $([3,2],N.WHITE_ROOK),new $([-2,-3],N.BLACK_KNIGHT),new $([2,-5],N.BLACK_KNIGHT),new $([-2,5],N.WHITE_KNIGHT),new $([2,3],N.WHITE_KNIGHT),new $([-1,-4],N.BLACK_QUEEN),new $([-1,5],N.WHITE_QUEEN),new $([1,-5],N.BLACK_KING),new $([1,4],N.WHITE_KING)];const Ie=Ge(Lt),xt=Ge(new Xe(void 0,[],[],[]));function Ht(s){let e,t,n,r;const i=s[7].default,o=Mt(i,s,s[6],null);return{c(){e=J("div"),o&&o.c(),this.h()},l(l){e=Z(l,"DIV",{class:!0});var p=ee(e);o&&o.l(p),p.forEach(O),this.h()},h(){B(e,"class","draggable svelte-kwdgvp")},m(l,p){G(l,e,p),o&&o.m(e,null),s[8](e),t=!0,n||(r=[le(window,"pointermove",s[3]),le(window,"pointerup",s[1]),le(window,"touchend",s[1]),le(window,"touchmove",s[4]),le(e,"pointerdown",s[2]),le(e,"contextmenu",Wt)],n=!0)},p(l,[p]){o&&o.p&&(!t||p&64)&&It(o,i,l,l[6],t?Ot(i,l[6],p,null):Tt(l[6]),null)},i(l){t||(d(o,l),t=!0)},o(l){w(o,l),t=!1},d(l){l&&O(e),o&&o.d(l),s[8](null),n=!1,Qe(r)}}}const Wt=function(s){s.preventDefault()};function Kt(s,e,t){let{$$slots:n={},$$scope:r}=e,{currentPiece:i}=e;_e.subscribe(y=>{});let o,l,p=0,q=0,b=0,_=0,u,v=[],m,L=[],f=[],g=[],h=!1;yt(()=>{z()});function z(){var E,H;b=u.getBoundingClientRect().width,_=u.getBoundingClientRect().height;let y=document.getElementById(`${i.hex.q},${i.hex.r}`).getBoundingClientRect();p=(E=u.parentElement)==null?void 0:E.getBoundingClientRect().left,q=(H=u.parentElement)==null?void 0:H.getBoundingClientRect().top,u.setAttribute("style",`left:${y.left+y.width/2-b/2-p}px; top:${y.top+y.height/2-_/2-q}px;`)}function te(y){if(t(0,u.style.cursor="",u),m=void 0,f=[],L=[],!!h)return h=!1,g.length>0&&(i.movePiece(g[0]),z()),t(0,u.style.left=o,u),t(0,u.style.top=l,u),g=[],F(),!0}function V(y){var H,x;h=!0,o=u.style.left,l=u.style.top,p=(H=u.parentElement)==null?void 0:H.getBoundingClientRect().left,q=(x=u.parentElement)==null?void 0:x.getBoundingClientRect().top;let E=i.getLegalMoves(!1);m=i.hex,f=E.filter(C=>$.pieceOn(C.attacking)).map(C=>C.to),L=E.filter(C=>!$.pieceOn(C.attacking)).map(C=>C.to),U(y.clientX,y.clientY),t(0,u.style.cursor="grabbing",u)}function ne(y){h&&U(y.clientX,y.clientY)}function Q(y){return h&&U(y.touches[0].clientX,y.touches[0].clientY),!0}function U(y,E){let H=y-b/2-p,x=E-_/2-q;t(0,u.style.left=`${H}px`,u),t(0,u.style.top=`${x}px`,u),v=document.elementsFromPoint(y,E);let C=v.find(D=>D.classList.contains("droppable"));if(C){let D=parseInt(C.getAttribute("data-q")),se=parseInt(C.getAttribute("data-r"));g=[new ae(D,se)]}else g=[];F()}function F(){xt.set(new Xe(m,g,L,f))}function re(y){_t[y?"unshift":"push"](()=>{u=y,t(0,u)})}return s.$$set=y=>{"currentPiece"in y&&t(5,i=y.currentPiece),"$$scope"in y&&t(6,r=y.$$scope)},[u,te,V,ne,Q,i,r,n,re]}class St extends we{constructor(e){super(),ve(this,e,Kt,Ht,ge,{currentPiece:5})}}function Rt(s){let e,t;return{c(){e=J("img"),this.h()},l(n){e=Z(n,"IMG",{style:!0,class:!0,draggable:!0,src:!0}),this.h()},h(){$e(e,"z-index","100"),B(e,"class","piece svelte-mwpcpw"),B(e,"draggable","false"),Je(e.src,t=s[0].pieceImage)||B(e,"src",t)},m(n,r){G(n,e,r)},p(n,r){r&1&&!Je(e.src,t=n[0].pieceImage)&&B(e,"src",t)},d(n){n&&O(e)}}}function Pt(s){let e,t;return e=new St({props:{currentPiece:s[0],$$slots:{default:[Rt]},$$scope:{ctx:s}}}),{c(){k(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,[r]){const i={};r&1&&(i.currentPiece=n[0]),r&3&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Gt(s,e,t){let{piece:n}=e;return s.$$set=r=>{"piece"in r&&t(0,n=r.piece)},[n]}class zt extends we{constructor(e){super(),ve(this,e,Gt,Pt,ge,{piece:0})}}function Yt(s){let e,t,n,r,i;return{c(){e=Oe("g"),t=Oe("polygon"),this.h()},l(o){e=ye(o,"g",{transform:!0});var l=ee(e);t=ye(l,"polygon",{id:!0,"data-q":!0,"data-r":!0,class:!0,points:!0,style:!0,opacity:!0}),ee(t).forEach(O),l.forEach(O),this.h()},h(){B(t,"id",n=s[0]+","+s[1]),B(t,"data-q",r=s[0]+","),B(t,"data-r",i=s[1]+","),B(t,"class","hexagon droppable"),B(t,"points",s[4]),$e(t,"fill",s[2]),$e(t,"z-index","100"),B(t,"opacity","0.4"),B(e,"transform","translate("+s[3].x+", "+s[3].y+")")},m(o,l){G(o,e,l),Y(e,t)},p(o,[l]){l&3&&n!==(n=o[0]+","+o[1])&&B(t,"id",n),l&1&&r!==(r=o[0]+",")&&B(t,"data-q",r),l&2&&i!==(i=o[1]+",")&&B(t,"data-r",i),l&4&&$e(t,"fill",o[2])},i:ce,o:ce,d(o){o&&O(e)}}}function Ut(s){var e="";return s.forEach(t=>{e=e.concat(`${t.x},${t.y} `)}),e}function jt(s,e,t){let{q:n}=e,{r}=e,{color:i}=e,o=Ne;_e.subscribe(u=>{o=u});const l=new ae(0,0),p=o.layout.polygonCorners(l),q=new ae(n,r),b=o.layout.hexToPixel(q);o.layout.size.x;const _=Ut(p);return s.$$set=u=>{"q"in u&&t(0,n=u.q),"r"in u&&t(1,r=u.r),"color"in u&&t(2,i=u.color)},[n,r,i,b,_]}class ze extends we{constructor(e){super(),ve(this,e,jt,Yt,ge,{q:0,r:1,color:2})}}function Vt(s){let e,t,n;return{c(){e=Oe("g"),t=Oe("text"),n=Re(s[0]),this.h()},l(r){e=ye(r,"g",{transform:!0});var i=ee(e);t=ye(i,"text",{x:!0,y:!0,class:!0});var o=ee(t);n=Pe(o,s[0]),o.forEach(O),i.forEach(O),this.h()},h(){B(t,"x",-15*s[2]-12),B(t,"y",-15*s[3]),B(t,"class","coordinate"),B(e,"transform","translate("+s[1].x+", "+s[1].y+")")},m(r,i){G(r,e,i),Y(e,t),Y(t,n)},p(r,[i]){i&1&&Fe(n,r[0])},i:ce,o:ce,d(r){r&&O(e)}}}function Qt(s,e,t){let{q:n}=e,{r}=e,{text:i}=e,o=Ne;_e.subscribe(u=>{o=u});const l=new ae(n,r),p=o.layout.hexToPixel(l),q=Math.sqrt(p.x*p.x+p.y*p.y),b=p.x/q,_=p.y/q;return o.layout.size.x,s.$$set=u=>{"q"in u&&t(4,n=u.q),"r"in u&&t(5,r=u.r),"text"in u&&t(0,i=u.text)},[i,p,b,_,n,r]}class K extends we{constructor(e){super(),ve(this,e,Qt,Vt,ge,{q:4,r:5,text:0})}}function Ft(s){let e,t,n,r,i;return{c(){e=Oe("g"),t=Oe("polygon"),this.h()},l(o){e=ye(o,"g",{transform:!0});var l=ee(e);t=ye(l,"polygon",{id:!0,"data-q":!0,"data-r":!0,class:!0,points:!0,style:!0}),ee(t).forEach(O),l.forEach(O),this.h()},h(){B(t,"id",n=s[0]+","+s[1]),B(t,"data-q",r=s[0]+","),B(t,"data-r",i=s[1]+","),B(t,"class","hexagon droppable"),B(t,"points",s[4]),$e(t,"fill",s[2]),$e(t,"stroke","black"),$e(t,"stroke-width","2px"),B(e,"transform","translate("+s[3].x+", "+s[3].y+")")},m(o,l){G(o,e,l),Y(e,t)},p(o,[l]){l&3&&n!==(n=o[0]+","+o[1])&&B(t,"id",n),l&1&&r!==(r=o[0]+",")&&B(t,"data-q",r),l&2&&i!==(i=o[1]+",")&&B(t,"data-r",i),l&4&&$e(t,"fill",o[2])},i:ce,o:ce,d(o){o&&O(e)}}}function Xt(s){var e="";return s.forEach(t=>{e=e.concat(`${t.x},${t.y} `)}),e}function Jt(s,e,t){let{q:n}=e,{r}=e,{color:i}=e,o=Ne;_e.subscribe(u=>{o=u});const l=new ae(0,0),p=o.layout.polygonCorners(l),q=new ae(n,r),b=o.layout.hexToPixel(q);o.layout.size.x;const _=Xt(p);return s.$$set=u=>{"q"in u&&t(0,n=u.q),"r"in u&&t(1,r=u.r),"color"in u&&t(2,i=u.color)},[n,r,i,b,_]}class Zt extends we{constructor(e){super(),ve(this,e,Jt,Ft,ge,{q:0,r:1,color:2})}}function nt(s,e,t){const n=s.slice();return n[10]=e[t],n}function rt(s,e,t){const n=s.slice();return n[13]=e[t],n}function st(s,e,t){const n=s.slice();return n[13]=e[t],n}function it(s,e,t){const n=s.slice();return n[13]=e[t],n}function ot(s,e,t){const n=s.slice();return n[20]=e[t].q,n[21]=e[t].r,n[22]=e[t].color,n}function lt(s){let e,t;return e=new Zt({props:{q:s[20],r:s[21],color:s[22]}}),{c(){k(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&2&&(i.q=n[20]),r&2&&(i.r=n[21]),r&2&&(i.color=n[22]),e.$set(i)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function at(s){let e,t;return e=new ze({props:{q:s[2].current.q,r:s[2].current.r,color:He.CURRENT}}),{c(){k(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.q=n[2].current.q),r&4&&(i.r=n[2].current.r),e.$set(i)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ft(s){let e,t;return e=new ze({props:{q:s[13].q,r:s[13].r,color:He.SELECTED}}),{c(){k(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.q=n[13].q),r&4&&(i.r=n[13].r),e.$set(i)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ht(s){let e,t;return e=new ze({props:{q:s[13].q,r:s[13].r,color:He.LEGAL}}),{c(){k(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.q=n[13].q),r&4&&(i.r=n[13].r),e.$set(i)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ut(s){let e,t;return e=new ze({props:{q:s[13].q,r:s[13].r,color:He.ATTACK}}),{c(){k(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.q=n[13].q),r&4&&(i.r=n[13].r),e.$set(i)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ct(s){let e,t,n,r,i,o=s[2].current&&at(s),l=fe(s[2].selections),p=[];for(let f=0;f<l.length;f+=1)p[f]=ft(it(s,l,f));const q=f=>w(p[f],1,1,()=>{p[f]=null});let b=fe(s[2].legal),_=[];for(let f=0;f<b.length;f+=1)_[f]=ht(st(s,b,f));const u=f=>w(_[f],1,1,()=>{_[f]=null});let v=fe(s[2].attacks),m=[];for(let f=0;f<v.length;f+=1)m[f]=ut(rt(s,v,f));const L=f=>w(m[f],1,1,()=>{m[f]=null});return{c(){o&&o.c(),e=j();for(let f=0;f<p.length;f+=1)p[f].c();t=j();for(let f=0;f<_.length;f+=1)_[f].c();n=j();for(let f=0;f<m.length;f+=1)m[f].c();r=j()},l(f){o&&o.l(f),e=j();for(let g=0;g<p.length;g+=1)p[g].l(f);t=j();for(let g=0;g<_.length;g+=1)_[g].l(f);n=j();for(let g=0;g<m.length;g+=1)m[g].l(f);r=j()},m(f,g){o&&o.m(f,g),G(f,e,g);for(let h=0;h<p.length;h+=1)p[h]&&p[h].m(f,g);G(f,t,g);for(let h=0;h<_.length;h+=1)_[h]&&_[h].m(f,g);G(f,n,g);for(let h=0;h<m.length;h+=1)m[h]&&m[h].m(f,g);G(f,r,g),i=!0},p(f,g){if(f[2].current?o?(o.p(f,g),g&4&&d(o,1)):(o=at(f),o.c(),d(o,1),o.m(e.parentNode,e)):o&&(he(),w(o,1,1,()=>{o=null}),ue()),g&4){l=fe(f[2].selections);let h;for(h=0;h<l.length;h+=1){const z=it(f,l,h);p[h]?(p[h].p(z,g),d(p[h],1)):(p[h]=ft(z),p[h].c(),d(p[h],1),p[h].m(t.parentNode,t))}for(he(),h=l.length;h<p.length;h+=1)q(h);ue()}if(g&4){b=fe(f[2].legal);let h;for(h=0;h<b.length;h+=1){const z=st(f,b,h);_[h]?(_[h].p(z,g),d(_[h],1)):(_[h]=ht(z),_[h].c(),d(_[h],1),_[h].m(n.parentNode,n))}for(he(),h=b.length;h<_.length;h+=1)u(h);ue()}if(g&4){v=fe(f[2].attacks);let h;for(h=0;h<v.length;h+=1){const z=rt(f,v,h);m[h]?(m[h].p(z,g),d(m[h],1)):(m[h]=ut(z),m[h].c(),d(m[h],1),m[h].m(r.parentNode,r))}for(he(),h=v.length;h<m.length;h+=1)L(h);ue()}},i(f){if(!i){d(o);for(let g=0;g<l.length;g+=1)d(p[g]);for(let g=0;g<b.length;g+=1)d(_[g]);for(let g=0;g<v.length;g+=1)d(m[g]);i=!0}},o(f){w(o),p=p.filter(Boolean);for(let g=0;g<p.length;g+=1)w(p[g]);_=_.filter(Boolean);for(let g=0;g<_.length;g+=1)w(_[g]);m=m.filter(Boolean);for(let g=0;g<m.length;g+=1)w(m[g]);i=!1},d(f){f&&(O(e),O(t),O(n),O(r)),o&&o.d(f),Be(p,f),Be(_,f),Be(m,f)}}}function gt(s){let e,t;return e=new zt({props:{piece:s[10]}}),{c(){k(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&8&&(i.piece=n[10]),e.$set(i)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function pt(s){let e,t,n,r=s[2],i,o,l,p,q,b,_,u,v,m,L,f,g,h,z,te,V,ne,Q,U,F,re,y,E,H,x,C,D,se,xe,be,qe,Ce,ke,Ye,We,Ae=fe(s[1]),R=[];for(let a=0;a<Ae.length;a+=1)R[a]=lt(ot(s,Ae,a));const qt=a=>w(R[a],1,1,()=>{R[a]=null});let oe=ct(s);o=new K({props:{q:-5,r:6,text:"a"}}),l=new K({props:{q:-4,r:6,text:"b"}}),p=new K({props:{q:-3,r:6,text:"c"}}),q=new K({props:{q:-2,r:6,text:"d"}}),b=new K({props:{q:-1,r:6,text:"e"}}),_=new K({props:{q:0,r:6,text:"f"}}),u=new K({props:{q:1,r:5,text:"g"}}),v=new K({props:{q:2,r:4,text:"h"}}),m=new K({props:{q:3,r:3,text:"i"}}),L=new K({props:{q:4,r:2,text:"k"}}),f=new K({props:{q:5,r:1,text:"l"}}),g=new K({props:{q:-6,r:5,text:"1"}}),h=new K({props:{q:-6,r:4,text:"2"}}),z=new K({props:{q:-6,r:3,text:"3"}}),te=new K({props:{q:-6,r:2,text:"4"}}),V=new K({props:{q:-6,r:1,text:"5"}}),ne=new K({props:{q:-6,r:0,text:"6"}}),Q=new K({props:{q:-5,r:-1,text:"7"}}),U=new K({props:{q:-4,r:-2,text:"8"}}),F=new K({props:{q:-3,r:-3,text:"9"}}),re=new K({props:{q:-2,r:-4,text:"10"}}),y=new K({props:{q:-1,r:-5,text:"11"}}),E=new K({props:{q:6,r:-1,text:"1"}}),H=new K({props:{q:6,r:-2,text:"2"}}),x=new K({props:{q:6,r:-3,text:"3"}}),C=new K({props:{q:6,r:-4,text:"4"}}),D=new K({props:{q:6,r:-5,text:"5"}}),se=new K({props:{q:6,r:-6,text:"6"}}),xe=new K({props:{q:5,r:-6,text:"7"}}),be=new K({props:{q:4,r:-6,text:"8"}}),qe=new K({props:{q:3,r:-6,text:"9"}}),Ce=new K({props:{q:2,r:-6,text:"10"}}),ke=new K({props:{q:1,r:-6,text:"11"}});let Me=fe(s[3]),P=[];for(let a=0;a<Me.length;a+=1)P[a]=gt(nt(s,Me,a));const Ct=a=>w(P[a],1,1,()=>{P[a]=null});return{c(){e=J("div"),t=Oe("svg");for(let a=0;a<R.length;a+=1)R[a].c();n=j(),oe.c(),i=j(),k(o.$$.fragment),k(l.$$.fragment),k(p.$$.fragment),k(q.$$.fragment),k(b.$$.fragment),k(_.$$.fragment),k(u.$$.fragment),k(v.$$.fragment),k(m.$$.fragment),k(L.$$.fragment),k(f.$$.fragment),k(g.$$.fragment),k(h.$$.fragment),k(z.$$.fragment),k(te.$$.fragment),k(V.$$.fragment),k(ne.$$.fragment),k(Q.$$.fragment),k(U.$$.fragment),k(F.$$.fragment),k(re.$$.fragment),k(y.$$.fragment),k(E.$$.fragment),k(H.$$.fragment),k(x.$$.fragment),k(C.$$.fragment),k(D.$$.fragment),k(se.$$.fragment),k(xe.$$.fragment),k(be.$$.fragment),k(qe.$$.fragment),k(Ce.$$.fragment),k(ke.$$.fragment),Ye=pe();for(let a=0;a<P.length;a+=1)P[a].c();this.h()},l(a){e=Z(a,"DIV",{class:!0});var S=ee(e);t=ye(S,"svg",{overflow:!0,viewBox:!0,width:!0,height:!0});var c=ee(t);for(let ie=0;ie<R.length;ie+=1)R[ie].l(c);n=j(),oe.l(c),i=j(),A(o.$$.fragment,c),A(l.$$.fragment,c),A(p.$$.fragment,c),A(q.$$.fragment,c),A(b.$$.fragment,c),A(_.$$.fragment,c),A(u.$$.fragment,c),A(v.$$.fragment,c),A(m.$$.fragment,c),A(L.$$.fragment,c),A(f.$$.fragment,c),A(g.$$.fragment,c),A(h.$$.fragment,c),A(z.$$.fragment,c),A(te.$$.fragment,c),A(V.$$.fragment,c),A(ne.$$.fragment,c),A(Q.$$.fragment,c),A(U.$$.fragment,c),A(F.$$.fragment,c),A(re.$$.fragment,c),A(y.$$.fragment,c),A(E.$$.fragment,c),A(H.$$.fragment,c),A(x.$$.fragment,c),A(C.$$.fragment,c),A(D.$$.fragment,c),A(se.$$.fragment,c),A(xe.$$.fragment,c),A(be.$$.fragment,c),A(qe.$$.fragment,c),A(Ce.$$.fragment,c),A(ke.$$.fragment,c),c.forEach(O),Ye=me(S);for(let ie=0;ie<P.length;ie+=1)P[ie].l(S);S.forEach(O),this.h()},h(){B(t,"overflow","visible"),B(t,"viewBox",s[6]),B(t,"width",s[5].x),B(t,"height",s[5].y),B(e,"class","board svelte-u1jk4r")},m(a,S){G(a,e,S),Y(e,t);for(let c=0;c<R.length;c+=1)R[c]&&R[c].m(t,null);Y(t,n),oe.m(t,null),Y(t,i),M(o,t,null),M(l,t,null),M(p,t,null),M(q,t,null),M(b,t,null),M(_,t,null),M(u,t,null),M(v,t,null),M(m,t,null),M(L,t,null),M(f,t,null),M(g,t,null),M(h,t,null),M(z,t,null),M(te,t,null),M(V,t,null),M(ne,t,null),M(Q,t,null),M(U,t,null),M(F,t,null),M(re,t,null),M(y,t,null),M(E,t,null),M(H,t,null),M(x,t,null),M(C,t,null),M(D,t,null),M(se,t,null),M(xe,t,null),M(be,t,null),M(qe,t,null),M(Ce,t,null),M(ke,t,null),Y(e,Ye);for(let c=0;c<P.length;c+=1)P[c]&&P[c].m(e,null);s[7](e),We=!0},p(a,S){if(S&2){Ae=fe(a[1]);let c;for(c=0;c<Ae.length;c+=1){const ie=ot(a,Ae,c);R[c]?(R[c].p(ie,S),d(R[c],1)):(R[c]=lt(ie),R[c].c(),d(R[c],1),R[c].m(t,n))}for(he(),c=Ae.length;c<R.length;c+=1)qt(c);ue()}if(S&4&&ge(r,r=a[2])?(he(),w(oe,1,1,ce),ue(),oe=ct(a),oe.c(),d(oe,1),oe.m(t,i)):oe.p(a,S),S&8){Me=fe(a[3]);let c;for(c=0;c<Me.length;c+=1){const ie=nt(a,Me,c);P[c]?(P[c].p(ie,S),d(P[c],1)):(P[c]=gt(ie),P[c].c(),d(P[c],1),P[c].m(e,null))}for(he(),c=Me.length;c<P.length;c+=1)Ct(c);ue()}},i(a){if(!We){for(let S=0;S<Ae.length;S+=1)d(R[S]);d(oe),d(o.$$.fragment,a),d(l.$$.fragment,a),d(p.$$.fragment,a),d(q.$$.fragment,a),d(b.$$.fragment,a),d(_.$$.fragment,a),d(u.$$.fragment,a),d(v.$$.fragment,a),d(m.$$.fragment,a),d(L.$$.fragment,a),d(f.$$.fragment,a),d(g.$$.fragment,a),d(h.$$.fragment,a),d(z.$$.fragment,a),d(te.$$.fragment,a),d(V.$$.fragment,a),d(ne.$$.fragment,a),d(Q.$$.fragment,a),d(U.$$.fragment,a),d(F.$$.fragment,a),d(re.$$.fragment,a),d(y.$$.fragment,a),d(E.$$.fragment,a),d(H.$$.fragment,a),d(x.$$.fragment,a),d(C.$$.fragment,a),d(D.$$.fragment,a),d(se.$$.fragment,a),d(xe.$$.fragment,a),d(be.$$.fragment,a),d(qe.$$.fragment,a),d(Ce.$$.fragment,a),d(ke.$$.fragment,a);for(let S=0;S<Me.length;S+=1)d(P[S]);We=!0}},o(a){R=R.filter(Boolean);for(let S=0;S<R.length;S+=1)w(R[S]);w(oe),w(o.$$.fragment,a),w(l.$$.fragment,a),w(p.$$.fragment,a),w(q.$$.fragment,a),w(b.$$.fragment,a),w(_.$$.fragment,a),w(u.$$.fragment,a),w(v.$$.fragment,a),w(m.$$.fragment,a),w(L.$$.fragment,a),w(f.$$.fragment,a),w(g.$$.fragment,a),w(h.$$.fragment,a),w(z.$$.fragment,a),w(te.$$.fragment,a),w(V.$$.fragment,a),w(ne.$$.fragment,a),w(Q.$$.fragment,a),w(U.$$.fragment,a),w(F.$$.fragment,a),w(re.$$.fragment,a),w(y.$$.fragment,a),w(E.$$.fragment,a),w(H.$$.fragment,a),w(x.$$.fragment,a),w(C.$$.fragment,a),w(D.$$.fragment,a),w(se.$$.fragment,a),w(xe.$$.fragment,a),w(be.$$.fragment,a),w(qe.$$.fragment,a),w(Ce.$$.fragment,a),w(ke.$$.fragment,a),P=P.filter(Boolean);for(let S=0;S<P.length;S+=1)w(P[S]);We=!1},d(a){a&&O(e),Be(R,a),oe.d(a),I(o),I(l),I(p),I(q),I(b),I(_),I(u),I(v),I(m),I(L),I(f),I(g),I(h),I(z),I(te),I(V),I(ne),I(Q),I(U),I(F),I(re),I(y),I(E),I(H),I(x),I(C),I(D),I(se),I(xe),I(be),I(qe),I(Ce),I(ke),Be(P,a),s[7](null)}}}function Dt(s){let e=[s[0].theme,s[3]],t,n,r=pt(s);return{c(){r.c(),t=j()},l(i){r.l(i),t=j()},m(i,o){r.m(i,o),G(i,t,o),n=!0},p(i,[o]){o&9&&ge(e,e=[i[0].theme,i[3]])?(he(),w(r,1,1,ce),ue(),r=pt(i),r.c(),d(r,1),r.m(t.parentNode,t)):r.p(i,o)},i(i){n||(d(r),n=!0)},o(i){w(r),n=!1},d(i){i&&O(t),r.d(i)}}}function en(s,e,t){let n=Ne;_e.subscribe(v=>{t(0,n=v),p()});const r=n.radius*2+1;var i=[],o=new Xe(void 0,[],[],[]);xt.subscribe(v=>t(2,o=v));var l=[];Ie.subscribe(v=>{t(3,l=v)});function p(){t(1,i=[]);let v=new tt(0,n.theme);for(let m=n.radius;m>=n.radius*-1;m--){let L=new tt(v.currentIndex,v.theme);for(let f=n.radius;f>=n.radius*-1;f--)new ae(m,f).inRadius(n.radius)&&i.push(new Et(m,f,n.hexSize,L.next()));m>0?v.next():v.previous()}}p();const q=new de(n.hexSize*(3/2)*r,n.hexSize*Math.sqrt(3)*(r+1)),b=`${q.x/-2} ${q.y/-2} ${q.x} ${q.y}`;let _;function u(v){_t[v?"unshift":"push"](()=>{_=v,t(4,_)})}return[n,i,o,l,_,q,b,u]}class tn extends we{constructor(e){super(),ve(this,e,en,Dt,ge,{})}}function mt(s){let e,t,n,r="Ã—",i,o,l="GAME OVER!",p,q,b,_,u;return{c(){e=J("div"),t=J("div"),n=J("span"),n.textContent=r,i=pe(),o=J("p"),o.textContent=l,p=pe(),q=J("p"),b=Re(s[0]),this.h()},l(v){e=Z(v,"DIV",{class:!0});var m=ee(e);t=Z(m,"DIV",{class:!0});var L=ee(t);n=Z(L,"SPAN",{class:!0,"data-svelte-h":!0}),Te(n)!=="svelte-ty2x6x"&&(n.textContent=r),i=me(L),o=Z(L,"P",{"data-svelte-h":!0}),Te(o)!=="svelte-av41o5"&&(o.textContent=l),p=me(L),q=Z(L,"P",{});var f=ee(q);b=Pe(f,s[0]),f.forEach(O),L.forEach(O),m.forEach(O),this.h()},h(){B(n,"class","close-button svelte-p4vkuh"),B(t,"class","popup-content svelte-p4vkuh"),B(e,"class","popup svelte-p4vkuh")},m(v,m){G(v,e,m),Y(e,t),Y(t,n),Y(t,i),Y(t,o),Y(t,p),Y(t,q),Y(q,b),_||(u=[le(n,"click",s[2]),le(e,"click",s[3])],_=!0)},p(v,m){m&1&&Fe(b,v[0])},d(v){v&&O(e),_=!1,Qe(u)}}}function nn(s){let e,t=s[1]&&mt(s);return{c(){t&&t.c(),e=j()},l(n){t&&t.l(n),e=j()},m(n,r){t&&t.m(n,r),G(n,e,r)},p(n,[r]){n[1]?t?t.p(n,r):(t=mt(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ce,o:ce,d(n){n&&O(e),t&&t.d(n)}}}function rn(s,e,t){let{text:n=""}=e,r=!0;function i(){t(1,r=!1)}function o(l){l.target===l.currentTarget&&i()}return s.$$set=l=>{"text"in l&&t(0,n=l.text)},[n,r,i,o]}class bt extends we{constructor(e){super(),ve(this,e,rn,nn,ge,{text:0})}}function $t(s){let e,t;return e=new bt({props:{text:s[0].checkmate[0]+" checkmated "+s[0].checkmate[1]}}),{c(){k(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&1&&(i.text=n[0].checkmate[0]+" checkmated "+n[0].checkmate[1]),e.$set(i)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function dt(s){let e,t;return e=new bt({props:{text:"Stalemate!"}}),{c(){k(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function sn(s){let e,t="Hexagonal Chess",n,r,i,o="Grayscale",l,p="Wood",q,b,_,u="Flat",v,m="Pointy",L,f,g=s[0].currentColor+"",h,z,te,V,ne,Q,U,F,re,y;V=new tn({});let E=s[0].checkmate&&$t(s),H=s[0].stalemate&&dt();return{c(){e=J("h1"),e.textContent=t,n=pe(),r=J("select"),i=J("option"),i.textContent=o,l=J("option"),l.textContent=p,q=pe(),b=J("select"),_=J("option"),_.textContent=u,v=J("option"),v.textContent=m,L=pe(),f=J("h2"),h=Re(g),z=Re(" TO MOVE"),te=pe(),k(V.$$.fragment),ne=pe(),E&&E.c(),Q=pe(),H&&H.c(),U=j(),this.h()},l(x){e=Z(x,"H1",{class:!0,"data-svelte-h":!0}),Te(e)!=="svelte-1bl0xm5"&&(e.textContent=t),n=me(x),r=Z(x,"SELECT",{});var C=ee(r);i=Z(C,"OPTION",{"data-svelte-h":!0}),Te(i)!=="svelte-c4ukt8"&&(i.textContent=o),l=Z(C,"OPTION",{"data-svelte-h":!0}),Te(l)!=="svelte-1loqtfl"&&(l.textContent=p),C.forEach(O),q=me(x),b=Z(x,"SELECT",{});var D=ee(b);_=Z(D,"OPTION",{"data-svelte-h":!0}),Te(_)!=="svelte-itmjg8"&&(_.textContent=u),v=Z(D,"OPTION",{"data-svelte-h":!0}),Te(v)!=="svelte-wt3xu4"&&(v.textContent=m),D.forEach(O),L=me(x),f=Z(x,"H2",{style:!0});var se=ee(f);h=Pe(se,g),z=Pe(se," TO MOVE"),se.forEach(O),te=me(x),A(V.$$.fragment,x),ne=me(x),E&&E.l(x),Q=me(x),H&&H.l(x),U=j(),this.h()},h(){B(e,"class","header"),i.__value=Le.GRAYSCALE,Ke(i,i.__value),i.selected=!0,l.__value=Le.WOOD,Ke(l,l.__value),s[2]===void 0&&Ze(()=>s[4].call(r)),_.__value=0,Ke(_,_.__value),_.selected=!0,v.__value=1,Ke(v,v.__value),s[1]===void 0&&Ze(()=>s[6].call(b)),$e(f,"margin-bottom","20px")},m(x,C){G(x,e,C),G(x,n,C),G(x,r,C),Y(r,i),Y(r,l),Se(r,s[2],!0),G(x,q,C),G(x,b,C),Y(b,_),Y(b,v),Se(b,s[1],!0),G(x,L,C),G(x,f,C),Y(f,h),Y(f,z),G(x,te,C),M(V,x,C),G(x,ne,C),E&&E.m(x,C),G(x,Q,C),H&&H.m(x,C),G(x,U,C),F=!0,re||(y=[le(r,"change",s[4]),le(r,"change",s[5]),le(b,"change",s[6]),le(b,"change",s[7])],re=!0)},p(x,[C]){C&4&&Se(r,x[2]),C&2&&Se(b,x[1]),(!F||C&1)&&g!==(g=x[0].currentColor+"")&&Fe(h,g),x[0].checkmate?E?(E.p(x,C),C&1&&d(E,1)):(E=$t(x),E.c(),d(E,1),E.m(Q.parentNode,Q)):E&&(he(),w(E,1,1,()=>{E=null}),ue()),x[0].stalemate?H?C&1&&d(H,1):(H=dt(),H.c(),d(H,1),H.m(U.parentNode,U)):H&&(he(),w(H,1,1,()=>{H=null}),ue())},i(x){F||(d(V.$$.fragment,x),d(E),d(H),F=!0)},o(x){w(V.$$.fragment,x),w(E),w(H),F=!1},d(x){x&&(O(e),O(n),O(r),O(q),O(b),O(L),O(f),O(te),O(ne),O(Q),O(U)),I(V,x),E&&E.d(x),H&&H.d(x),re=!1,Qe(y)}}}function on(s,e,t){let n,r,i;Ve.subscribe(_=>t(0,i=_));function o(_){let u=je;switch(_){case 0:{u=je;break}case 1:{u=Bt;break}}_e.update(v=>{let m=v;return m.layout=u,m})}function l(){n=De(this),t(2,n)}const p=_=>_e.update(u=>{let v=u;return v.theme=n,v});function q(){r=De(this),t(1,r)}const b=_=>{o(r)};return t(2,n=Le.GRAYSCALE),t(1,r=0),[i,r,n,o,l,p,q,b]}class un extends we{constructor(e){super(),ve(this,e,on,sn,ge,{})}}export{un as component};
